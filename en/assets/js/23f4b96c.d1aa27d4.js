"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3712],{3905:(e,t,r)=>{r.d(t,{Zo:()=>d,kt:()=>p});var a=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),c=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},h=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,i=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),h=c(r),p=n,v=h["".concat(l,".").concat(p)]||h[p]||u[p]||i;return r?a.createElement(v,s(s({ref:t},d),{},{components:r})):a.createElement(v,s({ref:t},d))}));function p(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var i=r.length,s=new Array(i);s[0]=h;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:n,s[1]=o;for(var c=2;c<i;c++)s[c]=r[c];return a.createElement.apply(null,s)}return a.createElement.apply(null,r)}h.displayName="MDXCreateElement"},19345:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>c,toc:()=>u});var a=r(87462),n=r(63366),i=(r(67294),r(3905)),s=["components"],o={id:"toevoegen_harvest",title:"Add Listings - Harvesting",sidebar_label:"Harvesting Resources"},l=void 0,c={unversionedId:"toevoegen_harvest",id:"version-1.0.1/toevoegen_harvest",title:"Add Listings - Harvesting",description:"In addition to adding listings and resources through the normal CKAN user interface, it is also possible to harvest listings and data from other source systems. Civity can set up custom harvesters. Contact Civity if this is desired.",source:"@site/i18n/en/docusaurus-plugin-content-docs-datacatalogus/version-1.0.1/datacatalogus_vermeldingen copy 5.md",sourceDirName:".",slug:"/toevoegen_harvest",permalink:"/en/datacatalogus/toevoegen_harvest",draft:!1,editUrl:"https://github.com/CivityNL/civity-docs-edit/edit/drafts/website/i18n/en/docusaurus-plugin-content-docs-datacatalogus/version-1.0.1/datacatalogus_vermeldingen copy 5.md",tags:[],version:"1.0.1",lastUpdatedAt:1660315366,formattedLastUpdatedAt:"8/12/2022",frontMatter:{id:"toevoegen_harvest",title:"Add Listings - Harvesting",sidebar_label:"Harvesting Resources"},sidebar:"datacatalogus",previous:{title:"Add Listings",permalink:"/en/datacatalogus/toevoegen_overig"},next:{title:"Linked Listings",permalink:"/en/datacatalogus/linken"}},d={},u=[{value:"Examples of sources that can be harvested",id:"examples-of-sources-that-can-be-harvested",level:2},{value:"ArcGIS Online",id:"arcgis-online",level:3},{value:"Geoserver",id:"geoserver",level:3},{value:"Configuring a harvester",id:"configuring-a-harvester",level:2}],h={toc:u};function p(e){var t=e.components,r=(0,n.Z)(e,s);return(0,i.kt)("wrapper",(0,a.Z)({},h,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"In addition to adding listings and resources through the normal CKAN user interface, it is also possible to harvest listings and data from other source systems. Civity can set up custom harvesters. Contact Civity if this is desired.")),(0,i.kt)("p",null,"In principle, all web services / APIs that can produce a list of all the resources they offer, can be harvested by DataCatalog."),(0,i.kt)("p",null,'Harvesting is done in three steps: "gather", "fetch" and "import". The different steps are explained below.'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},'In the "gather" phase, it is determined which resources are new, which need to be updated and which have been removed in the source. The harvester retrieves a list of sources from the API and draws up the three lists from it. In the case of a CSW, for example, the GetRecords request is used.'),(0,i.kt)("li",{parentName:"ul"},'In the "fetch" phase, the actual information is retrieved. This concerns the detailed information of the resource. In the example of a CSW, the GetRecordByID request is used for this;'),(0,i.kt)("li",{parentName:"ul"},'In the "import" phase, the information retrieved in the "gather" and "fetch" phases is actually updated in the metadata repository. New records are added, existing records are updated, and records deleted from the source are cleaned up. For this, the original source no longer needs to be approached.')),(0,i.kt)("p",null,"Configuring how the harvesting processes of the different sources are set up depends on a number of things:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The metadata fields that are included in the metadataschema: We recommend including mandatory CKAN and DCAT metadata fields. If a link to GeoNetwork is desired, these fields must also be included. In addition, customer-specific fields could be included;"),(0,i.kt)("li",{parentName:"ul"},"How the links to the sources should be published in Datacatalog, depends on which software is used by the customer. For example, in the case of an ArcGIS Online Map/Feature/ImageServer, a link can be published to open the resource in an online viewer, but links can also be included to open the resource in ArcGIS Desktop. Our advice is to include at least the links to the online viewer;"),(0,i.kt)("li",{parentName:"ul"},"Certain sources can be harvest in several ways. Which options there are depends on how the sources that need to be harvested are configured. This requires coordination at the start of a possible joint project.")),(0,i.kt)("h2",{id:"examples-of-sources-that-can-be-harvested"},"Examples of sources that can be harvested"),(0,i.kt)("h3",{id:"arcgis-online"},"ArcGIS Online"),(0,i.kt)("p",null,"ArcGIS Online services can be harvested using the APIs that describe the contents of the Map/Feature/ImageServer. An example of such a document can be found on ",(0,i.kt)("a",{parentName:"p",href:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer"},"https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer"),". This is the human-readable variant of the contents of a MapServer. Feature and ImageServers offer a similar document. The harvester would use the JSON variant whose link is in the upper left corner of the readable variant. If the WMS/WFS/WCS connectors are activated, the GetCapabilities documents of these services can also be used for harvesting."),(0,i.kt)("h3",{id:"geoserver"},"Geoserver"),(0,i.kt)("p",null,"GeoServer can be harvested in different ways:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"What is always possible in the case of GeoServer is to harvest the WMS/WCS/WFS OGC services based on their GetCapabilities document."),(0,i.kt)("li",{parentName:"ul"},"If the CSW extension is installed, GeoServer can also be harvested using the CSW GetRecords and GetRecordByID requests"),(0,i.kt)("li",{parentName:"ul"},"If the GeoServer REST API is accessible and a username/password is available, the GeoServer REST API can also be used for harvesting. The latter option may not be preferred from a security point of view.")),(0,i.kt)("h2",{id:"configuring-a-harvester"},"Configuring a harvester"),(0,i.kt)("p",null,"A DataCatalog system administration / organization admin / editor can configure a harvester in the DataCatalog user interface. This information can be entered via the CKAN API. The following information must be provided:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"URL"),(0,i.kt)("li",{parentName:"ul"},"Name"),(0,i.kt)("li",{parentName:"ul"},"Description"),(0,i.kt)("li",{parentName:"ul"},"Type of harvester"),(0,i.kt)("li",{parentName:"ul"},"Frequency with which the harvester needs to refresh the information in DataCatalog. Options are: Manual, Daily, Weekly, Every two weeks, Monthly, Continuous"),(0,i.kt)("li",{parentName:"ul"},"JSON with harvester specific configuration options"),(0,i.kt)("li",{parentName:"ul"},"Organization")))}p.isMDXComponent=!0}}]);