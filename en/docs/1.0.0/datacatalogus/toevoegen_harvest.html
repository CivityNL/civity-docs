<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.0.0 plugin-docs plugin-id-default docs-doc-id-datacatalogus/toevoegen_harvest">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="https://github.com/CivityNL/civity-docs/blob/gh-pages/js/code-block-buttons.js"></script><title data-rh="true">Vermeldingen toevoegen - Harvesten | Civity Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://CivityNL.github.io/civity-docs/en/docs/1.0.0/datacatalogus/toevoegen_harvest"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.0.0"><meta data-rh="true" name="docusaurus_tag" content="docs-default-1.0.0"><meta data-rh="true" name="docsearch:version" content="1.0.0"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-1.0.0"><meta data-rh="true" property="og:title" content="Vermeldingen toevoegen - Harvesten | Civity Docs"><meta data-rh="true" name="description" content="Naast het toevoegen van vermeldingen en databronnen via de normale CKAN user interface, is het ook mogelijk om vermeldingen en data te harvesten van andere bronsystemen."><meta data-rh="true" property="og:description" content="Naast het toevoegen van vermeldingen en databronnen via de normale CKAN user interface, is het ook mogelijk om vermeldingen en data te harvesten van andere bronsystemen."><link data-rh="true" rel="icon" href="/en/img/civityHexLogo.png"><link data-rh="true" rel="canonical" href="https://CivityNL.github.io/civity-docs/en/docs/1.0.0/datacatalogus/toevoegen_harvest"><link data-rh="true" rel="alternate" href="https://CivityNL.github.io/civity-docs/docs/1.0.0/datacatalogus/toevoegen_harvest" hreflang="nl"><link data-rh="true" rel="alternate" href="https://CivityNL.github.io/civity-docs/en/docs/1.0.0/datacatalogus/toevoegen_harvest" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://CivityNL.github.io/civity-docs/sv/docs/1.0.0/datacatalogus/toevoegen_harvest" hreflang="sv"><link data-rh="true" rel="alternate" href="https://CivityNL.github.io/civity-docs/docs/1.0.0/datacatalogus/toevoegen_harvest" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HSXU31YQHK-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/en/assets/css/styles.0a2882b7.css">
<link rel="preload" href="/en/assets/js/runtime~main.ba7325e0.js" as="script">
<link rel="preload" href="/en/assets/js/main.949b1ea5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><b class="navbar__title text--truncate">Civity Docs</b></a><a class="navbar__item navbar__link" href="/en/docs/Welcome">Welcome</a><a class="navbar__item navbar__link" href="/en/dataplatform/dataplatform_introduction">DataPlatform</a><a class="navbar__item navbar__link" href="/en/datacatalogus/korte_intro">DataCatalogus</a><a class="navbar__item navbar__link" href="/en/slimmelden/slimmelden">Slim Melden</a><a class="navbar__item navbar__link" href="/en/slimbeheer/slimbeheer">Slim Beheer</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/en/help">Help</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/1.0.0/datacatalogus/toevoegen_harvest" target="_self" rel="noopener noreferrer" class="dropdown__link">Nederlands</a></li><li><a href="/en/docs/1.0.0/datacatalogus/toevoegen_harvest" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/sv/docs/1.0.0/datacatalogus/toevoegen_harvest" target="_self" rel="noopener noreferrer" class="dropdown__link">Svenska</a></li></ul></div><div class="searchBox_dLyj"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><main class="docMainContainer_uL0j docMainContainerEnhanced_oQfM"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->Civity Docs<!-- --> <b>1.0.0</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/en/docs/Welcome">latest version</a></b> (<!-- -->1.0.1<!-- -->).</div></div><div class="docItemContainer_vinB"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 1.0.0</span><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Vermeldingen toevoegen - Harvesten</h1></header><blockquote><p>Naast het toevoegen van vermeldingen en databronnen via de normale CKAN user interface, is het ook mogelijk om vermeldingen en data te harvesten van andere bronsystemen.</p></blockquote><p>In principe kunnen alle web services/API’s die een lijst kunnen produceren met alle resources die ze aanbieden geharvest worden door Datacatalogus. </p><p>Het harvesten gebeurt in drie stappen: “gather” (verzamelen), “fetch” (ophalen) en “import” (importeren). Hieronder worden de verschillende stappen uitgelegd.  </p><ul><li>In de “gather” fase wordt bepaald welke resources nieuw zijn, welke bijgewerkt moeten worden en welke verwijderd zijn in de bron. De harvester haalt bij de API een lijst met bronnen op en stelt daaruit de drie lijsten op. In het geval van een CSW bijvoorbeeld wordt hiervoor het GetRecords request gebruikt.  </li><li>In de “fetch” fase wordt de daadwerkelijke informatie opgehaald. Het gaat hierbij om de detail informatie van de resource. In het voorbeeld van een CSW wordt hiervoor het GetRecordByID request gebruikt; </li><li>In de “import” fase wordt de in de “gather” en “fetch” fases opgehaalde informatie daadwerkelijk in de metadata repository bijgewerkt. Nieuwe records worden toegevoegd, bestaande records worden bijgewerkt en uit de bron verwijderde records worden opgeruimd. Daarvoor hoeft de originele bron niet meer benaderd te worden.  </li></ul><p>Het configureren van hoe de harvest processen van de verschillende bronnen ingeregeld wordt is afhankelijk van een aantal zaken: </p><ul><li>Van de metadata velden die opgenomen worden in het metadata schema. Wij adviseren om elk geval de CKAN en de DCAT metadatavelden op te nemen. Indien een koppeling naar NGR gewenst is, dan dienen ook deze velden opgenomen te worden. Daarnaast zouden nog klantspecifieke velden opgenomen kunnen worden; </li><li>Hoe de links naar de bronnen opgenomen moeten worden, is afhankelijk van welke software bij de klant gebruikt worden. In het geval van een ArcGIS Online Map/Feature/ImageServer is het bijvoorbeeld een link op te nemen om de resource te openen in een online viewer, maar kunnen ook links worden opgenomen om de resource te openen in ArcGIS Desktop. Ons advies is om in elk geval de links naar de online viewer op te nemen;  </li><li>Bepaalde bronnen kunnen op meerdere manieren geharvest worden. Welke opties daarin zijn hangt af van hoe de te harvesten bronnen geconfigureerd zijn.
Dit vergt afstemming bij de start van een mogelijke gezamenlijk project.  </li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="voorbeelden-van-bronnen-die-geharvest-kunnen-worden">Voorbeelden van bronnen die geharvest kunnen worden<a class="hash-link" href="#voorbeelden-van-bronnen-die-geharvest-kunnen-worden" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="arcgis-online">ArcGIS Online<a class="hash-link" href="#arcgis-online" title="Direct link to heading">​</a></h3><p>ArcGIS Online services kunnen geharvest worden aan de hand van de API’s die de inhoud van de Map/Feature/ImageServer beschrijven. Een voorbeeld van zo’n document kan gevonden worden op <a href="https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer" target="_blank" rel="noopener noreferrer">https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer</a>. Dit is de voor mensen leesbare variant van de inhoud van een MapServer. Feature- en ImageServers bieden een vergelijkbaar document aan. De harvester zou de JSON variant gebruiken waarvan de link in de linker bovenhoek van de leesbare variant staat. Als de WMS/WFS/WCS connectoren geactiveerd zijn kunnen ook de GetCapabilities documenten van deze services gebruikt worden om te harvesten.  </p><h3 class="anchor anchorWithStickyNavbar_mojV" id="geoserver">GeoServer<a class="hash-link" href="#geoserver" title="Direct link to heading">​</a></h3><p>GeoServer kan op verschillende manieren geharvest worden: </p><ul><li>Wat altijd kan in het geval van GeoServer is de WMS/WCS/WFS OGC services harvesten aan de hand van hun GetCapabilities document </li><li>Indien de CSW extensie geïnstalleerd is, kan GeoServer ook geharvest worden aan de hand de CSW GetRecords en GetRecordByID requests </li><li>Als de GeoServer REST API benaderbaar is en een username/password beschikbaar is kan ook de GeoServer REST API gebruikt worden om te harvesten. Deze laatste optie geniet wellicht niet de voorkeur vanuit beveligingsoogpunt.  </li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="configureren-van-een-harvester">Configureren van een harvester<a class="hash-link" href="#configureren-van-een-harvester" title="Direct link to heading">​</a></h2><p>Een Datacatalogus beheerder kan een harvester configureren in de Datacatalogus user interface. Deze informatie kan worden ingevoerd via de CKAN API. De volgende informatie moet worden opgegeven: </p><ul><li>URL </li><li>Naam </li><li>Beschrijving </li><li>Type harvester </li><li>Frequentie waarmee de harvester de informatie in Datacatalogus moet verversen. Opties zijn: <ul><li>Handmatig </li><li>Dagelijks </li><li>Wekelijks </li><li>Elke twee weken </li><li>Maandelijks </li><li>Voortdurend </li></ul></li><li>JSON met harvester specifieke configuratie opties </li><li>Organisatie</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/CivityNL/civity-docs-edit/edit/drafts/website/versioned_docs/version-1.0.0/datacatalogus/datacatalogus_vermeldingen copy 5.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-05-27T13:17:42.000Z">5/27/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#voorbeelden-van-bronnen-die-geharvest-kunnen-worden" class="table-of-contents__link toc-highlight">Voorbeelden van bronnen die geharvest kunnen worden</a><ul><li><a href="#arcgis-online" class="table-of-contents__link toc-highlight">ArcGIS Online</a></li><li><a href="#geoserver" class="table-of-contents__link toc-highlight">GeoServer</a></li></ul></li><li><a href="#configureren-van-een-harvester" class="table-of-contents__link toc-highlight">Configureren van een harvester</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/en/img/civityHexLogo.png" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/en/img/civityHexLogo.png" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright © 2022 Civity B.V.</div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.ba7325e0.js"></script>
<script src="/en/assets/js/main.949b1ea5.js"></script>
</body>
</html>