<!doctype html>
<html lang="en-GB" dir="ltr" class="docs-wrapper docs-doc-page docs-version-1.0.1 plugin-docs plugin-id-datacatalogus docs-doc-id-toevoegen_harvest">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="https://github.com/CivityNL/civity-docs/blob/gh-pages/js/code-block-buttons.js"></script><title data-rh="true">Add Listings - Harvesting | Civity Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://CivityNL.github.io/civity-docs/en/datacatalogus/toevoegen_harvest"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="1.0.1"><meta data-rh="true" name="docusaurus_tag" content="docs-datacatalogus-1.0.1"><meta data-rh="true" name="docsearch:version" content="1.0.1"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-datacatalogus-1.0.1"><meta data-rh="true" property="og:title" content="Add Listings - Harvesting | Civity Docs"><meta data-rh="true" name="description" content="In addition to adding listings and resources through the normal CKAN user interface, it is also possible to harvest listings and data from other source systems. Civity can set up custom harvesters. Contact Civity if this is desired."><meta data-rh="true" property="og:description" content="In addition to adding listings and resources through the normal CKAN user interface, it is also possible to harvest listings and data from other source systems. Civity can set up custom harvesters. Contact Civity if this is desired."><link data-rh="true" rel="icon" href="/en/img/civityHexLogo.png"><link data-rh="true" rel="canonical" href="https://CivityNL.github.io/civity-docs/en/datacatalogus/toevoegen_harvest"><link data-rh="true" rel="alternate" href="https://CivityNL.github.io/civity-docs/datacatalogus/toevoegen_harvest" hreflang="nl"><link data-rh="true" rel="alternate" href="https://CivityNL.github.io/civity-docs/en/datacatalogus/toevoegen_harvest" hreflang="en-GB"><link data-rh="true" rel="alternate" href="https://CivityNL.github.io/civity-docs/sv/datacatalogus/toevoegen_harvest" hreflang="sv"><link data-rh="true" rel="alternate" href="https://CivityNL.github.io/civity-docs/datacatalogus/toevoegen_harvest" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://HSXU31YQHK-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/en/assets/css/styles.0a2882b7.css">
<link rel="preload" href="/en/assets/js/runtime~main.dd914e96.js" as="script">
<link rel="preload" href="/en/assets/js/main.c6f0cc79.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/en/"><b class="navbar__title text--truncate">Civity Docs</b></a><a class="navbar__item navbar__link" href="/en/docs/Welcome">Welcome</a><a class="navbar__item navbar__link" href="/en/dataplatform/dataplatform_introduction">DataPlatform</a><a class="navbar__item navbar__link" href="/en/datacatalogus/korte_intro">DataCatalogus</a><a class="navbar__item navbar__link" href="/en/slimmelden/slimmelden">Slim Melden</a><a class="navbar__item navbar__link" href="/en/slimbeheer/slimbeheer">Slim Beheer</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/en/help">Help</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/datacatalogus/toevoegen_harvest" target="_self" rel="noopener noreferrer" class="dropdown__link">Nederlands</a></li><li><a href="/en/datacatalogus/toevoegen_harvest" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/sv/datacatalogus/toevoegen_harvest" target="_self" rel="noopener noreferrer" class="dropdown__link">Svenska</a></li></ul></div><div class="searchBox_dLyj"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/korte_intro">Introduction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/en/datacatalogus/toevoegen">Listings</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/datacatalogus/toevoegen">What are Listings?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/datacatalogus/bekijken">View Listings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/datacatalogus/toevoegen_overig">Add Listings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/en/datacatalogus/toevoegen_harvest">Harvesting Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/datacatalogus/linken">Linked Listings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/datacatalogus/verwijderen">Delete a Listing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/datacatalogus/abonneren">Subscribing to Listings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/en/datacatalogus/activiteitenstroom">Activity Stream</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/workflow">Workflow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/verplichte_metadatavelden">Metadata</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/ckan_groepen">Themes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/systeembeheerder">Users</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/wachtwoord_veranderen">Personal profile</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/ckan_api">CKAN API</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/definitie_module">Definitions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/data_dictionary">Data Dictionary</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/dienst_toevoegen">Organizations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/zoeken">Searching and filtering</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/en/datacatalogus/ckan_stats">Statistics</a></div></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/en/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Listings</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Harvesting Resources</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 1.0.1</span><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Add Listings - Harvesting</h1></header><blockquote><p>In addition to adding listings and resources through the normal CKAN user interface, it is also possible to harvest listings and data from other source systems. Civity can set up custom harvesters. Contact Civity if this is desired.</p></blockquote><p>In principle, all web services / APIs that can produce a list of all the resources they offer, can be harvested by DataCatalog.</p><p>Harvesting is done in three steps: &quot;gather&quot;, &quot;fetch&quot; and &quot;import&quot;. The different steps are explained below.</p><ul><li>In the &quot;gather&quot; phase, it is determined which resources are new, which need to be updated and which have been removed in the source. The harvester retrieves a list of sources from the API and draws up the three lists from it. In the case of a CSW, for example, the GetRecords request is used.</li><li>In the &quot;fetch&quot; phase, the actual information is retrieved. This concerns the detailed information of the resource. In the example of a CSW, the GetRecordByID request is used for this;</li><li>In the &quot;import&quot; phase, the information retrieved in the &quot;gather&quot; and &quot;fetch&quot; phases is actually updated in the metadata repository. New records are added, existing records are updated, and records deleted from the source are cleaned up. For this, the original source no longer needs to be approached.</li></ul><p>Configuring how the harvesting processes of the different sources are set up depends on a number of things:</p><ul><li>The metadata fields that are included in the metadataschema: We recommend including mandatory CKAN and DCAT metadata fields. If a link to GeoNetwork is desired, these fields must also be included. In addition, customer-specific fields could be included;</li><li>How the links to the sources should be published in Datacatalog, depends on which software is used by the customer. For example, in the case of an ArcGIS Online Map/Feature/ImageServer, a link can be published to open the resource in an online viewer, but links can also be included to open the resource in ArcGIS Desktop. Our advice is to include at least the links to the online viewer;</li><li>Certain sources can be harvest in several ways. Which options there are depends on how the sources that need to be harvested are configured. This requires coordination at the start of a possible joint project.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="examples-of-sources-that-can-be-harvested">Examples of sources that can be harvested<a class="hash-link" href="#examples-of-sources-that-can-be-harvested" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="arcgis-online">ArcGIS Online<a class="hash-link" href="#arcgis-online" title="Direct link to heading">​</a></h3><p>ArcGIS Online services can be harvested using the APIs that describe the contents of the Map/Feature/ImageServer. An example of such a document can be found on <a href="https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer" target="_blank" rel="noopener noreferrer">https://sampleserver6.arcgisonline.com/arcgis/rest/services/USA/MapServer</a>. This is the human-readable variant of the contents of a MapServer. Feature and ImageServers offer a similar document. The harvester would use the JSON variant whose link is in the upper left corner of the readable variant. If the WMS/WFS/WCS connectors are activated, the GetCapabilities documents of these services can also be used for harvesting.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="geoserver">Geoserver<a class="hash-link" href="#geoserver" title="Direct link to heading">​</a></h3><p>GeoServer can be harvested in different ways:</p><ul><li>What is always possible in the case of GeoServer is to harvest the WMS/WCS/WFS OGC services based on their GetCapabilities document.</li><li>If the CSW extension is installed, GeoServer can also be harvested using the CSW GetRecords and GetRecordByID requests</li><li>If the GeoServer REST API is accessible and a username/password is available, the GeoServer REST API can also be used for harvesting. The latter option may not be preferred from a security point of view.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="configuring-a-harvester">Configuring a harvester<a class="hash-link" href="#configuring-a-harvester" title="Direct link to heading">​</a></h2><p>A DataCatalog system administration / organization admin / editor can configure a harvester in the DataCatalog user interface. This information can be entered via the CKAN API. The following information must be provided:</p><ul><li>URL</li><li>Name</li><li>Description</li><li>Type of harvester</li><li>Frequency with which the harvester needs to refresh the information in DataCatalog. Options are: Manual, Daily, Weekly, Every two weeks, Monthly, Continuous</li><li>JSON with harvester specific configuration options</li><li>Organization</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/CivityNL/civity-docs-edit/edit/drafts/website/i18n/en/docusaurus-plugin-content-docs-datacatalogus/version-1.0.1/datacatalogus_vermeldingen copy 5.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2022-08-12T14:42:46.000Z">8/12/2022</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/en/datacatalogus/toevoegen_overig"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Add Listings</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/en/datacatalogus/linken"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Linked Listings</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#examples-of-sources-that-can-be-harvested" class="table-of-contents__link toc-highlight">Examples of sources that can be harvested</a><ul><li><a href="#arcgis-online" class="table-of-contents__link toc-highlight">ArcGIS Online</a></li><li><a href="#geoserver" class="table-of-contents__link toc-highlight">Geoserver</a></li></ul></li><li><a href="#configuring-a-harvester" class="table-of-contents__link toc-highlight">Configuring a harvester</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/en/img/civityHexLogo.png" class="themedImage_W2Cr themedImage--light_TfLj footer__logo"><img src="/en/img/civityHexLogo.png" class="themedImage_W2Cr themedImage--dark_oUvU footer__logo"></div><div class="footer__copyright">Copyright © 2022 Civity B.V.</div></div></div></footer></div>
<script src="/en/assets/js/runtime~main.dd914e96.js"></script>
<script src="/en/assets/js/main.c6f0cc79.js"></script>
</body>
</html>